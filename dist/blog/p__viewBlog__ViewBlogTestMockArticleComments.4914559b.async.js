(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{vbRW:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var r=l(a("BMrR"));a("4eJr");var n=l(a("3LgI"));a("jCWc");var u=l(a("kPKH"));a("i5XK");var o=l(a("jq9l"));a("Pwec");var c=l(a("CtXQ"));a("Telt");var d=l(a("Tckk"));a("miYZ");var i=l(a("tsqr")),s=l(a("2Taf")),f=l(a("vZ4D")),m=l(a("l4Ni")),p=l(a("ujKo")),h=l(a("MhPg"));a("+L6B");var v=l(a("2/Rp"));a("y8nQ");var y=l(a("Vl3Y"));a("5NDa");var E=l(a("5rEg")),g=l(a("VTkw"));a("Lzxq"),a("iGui");var b=l(a("q1tI")),I=a("J66h"),k=l(a("wTJ1")),S=l(a("yEr3")),T=l(a("Nd4F")),x=a("I1sT"),A=l(a("wd/R")),C=a("DV8P"),q=a("MuoO");S.default.use((0,T.default)());var w="draft-0.0.1",M=function(){document.querySelector(".bf-content")&&(document.querySelector(".bf-content").classList=""),document.querySelectorAll(".bf-hr")&&(document.querySelectorAll(".bf-hr").forEach(function(e){e.innerHTML="<hr><br>"}),document.querySelector(".bf-hr")&&(document.querySelector(".bf-hr").innerHTML=""))},j=function(e){var t=e.onChange,a=e.onSubmit;e.submitting,e.value;return b.default.createElement("div",null,b.default.createElement(y.default.Item,null,b.default.createElement(E.default.TextArea,{rows:4,onChange:t})),b.default.createElement(y.default.Item,null,b.default.createElement(v.default,{htmlType:"submit",loading:!1,onClick:a,type:"primary",className:"pull-right"},"Add Comment")))},D=function(e){function t(e){var a;return(0,s.default)(this,t),a=(0,m.default)(this,(0,p.default)(t).call(this,e)),a.state={author:{id:null,username:null,nickname:null,appId:null,avatar:null},articleInfo:{id:null,like:null,dislike:null,star:null,comment:null,read:null},title:null,createAt:null,blogId:a.props.match.params.blogId,editorState:S.default.createEditorState(null),comments:a.props.comments},a}return(0,h.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this;(0,x.queryArticle)(this.state.blogId).then(function(t){if(t&&t.data){var a=t.data;a.parseType&&w===a.parseType?e.setState({createAt:a.createAt,title:a.title,author:a.author,articleInfo:a.articleInfo,editorState:S.default.createEditorState("".concat(decodeURIComponent(I.Base64.decode(a.text))))}):i.default.error("\u4e0d\u80fd\u591f\u6e32\u67d3\u7684\u6587\u7ae0\u7c7b\u578b ".concat(a.parseType))}}),this.props.dispatch({type:"testMockArticleComment/list_"})}},{key:"componentWillReceiveProps",value:function(e,t){var a=this,l=e.match.params.blogId;l!==this.props.match.params.blogId&&(0,x.queryArticle)(l).then(function(e){if(e&&e.data){var t=e.data;t.parseType&&w===t.parseType?a.setState({createAt:t.createAt,title:t.title,author:t.author,articleInfo:t.articleInfo,editorState:S.default.createEditorState("".concat(decodeURIComponent(I.Base64.decode(t.text))))}):i.default.error("\u4e0d\u80fd\u591f\u6e32\u67d3\u7684\u6587\u7ae0\u7c7b\u578b ".concat(t.parseType))}})}},{key:"componentDidUpdate",value:function(e,t,a){M()}},{key:"render",value:function(){var e=this,t=this.state.editorState;return console.log(this.props),b.default.createElement(r.default,{justify:"space-around",type:"flex"},b.default.createElement(u.default,{xxl:16,xl:18,lg:18,span:24},b.default.createElement("div",{style:{backgroundColor:"white",padding:"8px"}},b.default.createElement("div",null,b.default.createElement("h1",{style:{textAlign:"center"}},b.default.createElement("span",{style:{fontSize:"32px"}},this.state.title))),b.default.createElement("div",{style:{textAlign:"center"}},b.default.createElement("div",{className:g.default.extra},b.default.createElement(d.default,{src:this.state.author.avatar?this.state.author.avatar:(0,C.generateImgSrc)(this.state.author.username),alt:"alt",size:"small"}),b.default.createElement("a",null," ",this.state.author.username," "),"\u53d1\u5e03\u4e8e",(0,A.default)(this.state.createAt).format("YYYY-MM-DD HH:mm:ss"),"\xa0\xa0\xa0\xa0\xa0\xa0",b.default.createElement("span",{style:{margin:"0 0.5em"}},b.default.createElement(c.default,{type:"like-o"})," ",this.state.articleInfo.like)," |",b.default.createElement("span",{style:{margin:"0 0.5em"}},b.default.createElement(c.default,{type:"dislike-o"})," ",this.state.articleInfo.dislike)," |",b.default.createElement("span",{style:{margin:"0 0.5em"}},b.default.createElement(c.default,{type:"star-o"})," ",this.state.articleInfo.star)," |",b.default.createElement("span",{style:{margin:"0 0.5em"}},b.default.createElement(c.default,{type:"message"})," ",this.state.articleInfo.comment),"|",b.default.createElement("span",{style:{margin:"0 0.5em"}},b.default.createElement(c.default,{type:"read"})," ",this.state.articleInfo.read))),b.default.createElement(S.default,{value:t,controls:[],readOnly:"true"})),b.default.createElement("hr",null),b.default.createElement("div",{style:{backgroundColor:"white",padding:"10px 40px"}},b.default.createElement(o.default,{avatar:b.default.createElement(d.default,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",alt:"Han Solo"}),content:b.default.createElement(j,{value:""})}),b.default.createElement(k.default,{comments:this.props.comments,pagination:{onChange:function(t,a){e.props.dispatch({type:"testMockArticleComment/list_",payload:{page:t,pageSize:a}})},pageSize:this.props.comments.pageSize,total:this.props.comments.total}}))),b.default.createElement(n.default,null))}}]),t}(b.default.Component),P=(0,q.connect)(function(e){return console.log(e),e.testMockArticleComment})(D);t.default=P},wTJ1:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Mwp2");var r=l(a("VXEj"));a("i5XK");var n=l(a("jq9l"));a("Telt");var u=l(a("Tckk")),o=l(a("2Taf")),c=l(a("vZ4D")),d=l(a("l4Ni")),i=l(a("ujKo")),s=l(a("MhPg"));a("Lzxq"),a("iGui");var f=l(a("q1tI")),m=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(0,i.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){return!this.props.comments||!this.props.comments.list||this.props.comments.list.length<=0?f.default.createElement(f.default.Fragment,null):f.default.createElement("div",null,f.default.createElement(r.default,{bordered:!0,pagination:this.props.pagination,dataSource:this.props.comments.list,renderItem:function(e){return f.default.createElement(r.default.Item,null,f.default.createElement(n.default,{style:{width:"100%"},author:e.author,avatar:f.default.createElement(u.default,{src:e.avatar,alt:"alt"}),content:e.text},f.default.createElement(t,{comments:e.replys})))}}))}}]),t}(f.default.PureComponent);t.default=m}}]);